<div class="view-wrapper list-page">
    <dx-data-grid
    class="grid theme-dependent"
    [dataSource]="EOS"
    [showBorders]="true"
    [rowAlternationEnabled]="true"
    rowAlternationInterval="2"
    [allowColumnReordering]="true"
    [allowColumnResizing]="true"
    [height]="'80vh'"
    noDataText=" "
    (onRowRemoved)="delete_EOS($event)"
    [pager]="{ 
        showInfo: true, 
        infoText: 'Page {0} of {1}', 
        showNavigationButtons: true 
      }"
     (onEditingStart)="onEditingStart($event)"
    >

    <dxo-filter-panel [visible]="true"></dxo-filter-panel>
    <dxo-filter-row [visible]="showFilterRow" [applyFilter]="currentFilter"></dxo-filter-row>

    <dxo-header-filter [visible]="true">
        <dxo-search [enabled]="true"></dxo-search>
      </dxo-header-filter>

      
    <dxo-paging [pageSize]="10"></dxo-paging>
    <dxo-pager
    [visible]="true"
    [showPageSizeSelector]="true"
    [allowedPageSizes]="[10,20,30,40]"
    ></dxo-pager>

    <dxo-editing mode="popup" [allowUpdating]="true" [allowDeleting]="true">
        <dxo-popup title="Update EOS" [showTitle]="true" [width]="600" [height]="300"></dxo-popup>
      </dxo-editing>

      <dxo-search-panel
    [visible]="true"
    placeholder="Data Search"
  ></dxo-search-panel>

  <dxo-toolbar>
    <dxi-item location="before">
        <div class="grid-header">EOS Reason</div>
      </dxi-item>

      <dxi-item location="after" locateInMenu="auto">
        <dx-button
          text=""
          icon="plus"
          type="default"
          stylingMode="contained"
          (onClick)="addEOS()"></dx-button>
      </dxi-item>

      <dxi-item
    location="after"
    locateInMenu="auto"
    showText="inMenu"
    widget="dxButton"
    [options]="{
      text: 'Refresh',
      icon: 'refresh',
      stylingMode: 'text',
      onClick: refresh
    }"
  ></dxi-item>
  

  <dxi-item name="searchPanel" locateInMenu="auto"></dxi-item> 
  </dxo-toolbar>

  <dxi-column dataField="SlNo" [width]="80" caption="Sl.No" [allowEditing]="false" [allowFiltering]="false"  alignment="left"  [allowHeaderFiltering]="false"></dxi-column>
 

  <dxi-column dataField="CODE" caption="Code">
    <!-- <dxi-validation-rule type="required" message="Code is required">
      <dxi-validation-rule type="required" message="Code is required">
      </dxi-validation-rule>
    </dxi-validation-rule> -->
  </dxi-column>
  <dxi-column dataField="DESCRIPTION" caption="EOS">
    <!-- <dxi-validation-rule type="required" message="EOS is required">
      <dxi-validation-rule type="required" message="EOS is required">
      </dxi-validation-rule>
    </dxi-validation-rule> -->
  </dxi-column>
  <dxi-column dataField="IS_INACTIVE" caption="Status" [calculateCellValue]="formatStatus" [cellTemplate]="statusCellTemplate"></dxi-column>
    </dx-data-grid>
</div>


    <form-popup
    [(visible)]="AddEOSPopup"
    titleText="New EOS"
    (save)="Add_EOS()"
    >
    <dx-form class="plain-styled-form" [formGroup]="formsource">
        <dxi-item>
         <dx-text-box
         label="Code"
         formControlName="CODE" >
        </dx-text-box>
        </dxi-item>

        <dxi-item>
            <dx-text-box
            label="EOS Reason"
            formControlName="DESCRIPTION"
            ></dx-text-box>
        </dxi-item>
    </dx-form>
</form-popup>

<form-popup
[(visible)]="UpdateEOSPopup"
titleText="Update EOS"
(save)="Edit_EOS()"
>
<dx-form class="plain-styled-form">
    <dxi-item>
     <dx-text-box
     label="Code"
     [(value)]="editingRowData.CODE" >
    </dx-text-box>
    </dxi-item>

    <dxi-item>
        <dx-text-box
        label="EOS Reason"
        [(value)]="editingRowData.DESCRIPTION"></dx-text-box>
    </dxi-item>

    <dxi-item>
      <dx-check-box
      text="Inactive"
      [(value)]="editingRowData.IS_INACTIVE"></dx-check-box>
    </dxi-item>
</dx-form>
</form-popup>
    
