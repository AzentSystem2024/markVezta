<div class="card-container" style="padding: 5px; margin-bottom: 10px; background-color: var(--base-bg); border-radius: 8px; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);">
    <!-- First Row -->
    <div class="row" style="display: flex; justify-content: space-between; margin-top: 10px; margin-bottom: 10px;">
        <div class="left-section" style="display: flex; gap: 20px; flex: 1;">
            <dx-text-box
              label="Transfer In No."
              labelMode="floating"
              [readOnly]="true"
              [elementAttr]="{ class: 'grntextbox' }"
              >
            </dx-text-box>
      
            <dx-date-box
              label="Date"
              labelMode="floating"
              [value]="today"
              [readOnly]="true"
              [displayFormat]="'MM/dd/yyyy'"
              [elementAttr]="{ class: 'grndatebox' }"
              >
            </dx-date-box>
          </div>
      
          <div class="right-section" style="flex: 1;margin-left: 10px;">
           
          </div>
    </div>
  
    <!-- Second Row -->
    <div class="row" style="display: flex; gap: 20px; margin-top: 10px;">
      <div style="flex: 1;">
        <dx-select-box
          label="Issued Store"
          labelMode="floating"
          displayExpr="DESCRIPTION"
          valueExpr="ID"
          placeholder="Select Store"
          [searchEnabled]="true"
          [dataSource]="StoreList"
          [(value)]="newTransferInData.ORIGIN_STORE_ID"
          [elementAttr]="{ class: 'grndropdown' }"
          (onValueChanged)="onStoreValueChanged($event)"
          >
        </dx-select-box>
      </div>
  
      <div style="flex: 1;">
        <dx-drop-down-box
          labelMode="floating"
          labelLocation="left"
          label="Select Transfer No"
          [dataSource]="filteredTrOutList"
          displayExpr="TRANSFER_NO"
          [(opened)]="isGridBoxOpened"
          [showClearButton]="true"
          [(value)]="selectedTrOutNo"
          [elementAttr]="{ class: 'grndropdown' }"
          [inputAttr]="{ 'aria-label': 'Owner' }"
          (onValueChanged)="onGridBoxValueChanged($event)"
          [showClearButton]="true"
          >
          <div *dxTemplate="let data of 'content'">
            <dx-data-grid
              [columns]="[
                { dataField: 'TRANSFER_NO', caption: 'ISSUE NO' },
                { dataField: 'TRANSFER_DATE', caption: 'ISSUE DATE', dataType: 'date', format: 'MM/dd/yyyy' },
                { dataField: 'STORE_NAME', caption: 'ISSUED FROM' },
                { dataField: 'NARRATION', caption: 'REMARKS' },
                { dataField: 'ID', caption: 'ID', visible: false }
              ]"
              [selection]="{ mode: 'single' }"
              [hoverStateEnabled]="true"
              [paging]="{ enabled: true, pageSize: 10 }"
              [headerFilter]="{ visible: true }"
              [scrolling]="{ mode: 'virtual' }"
              [height]="250"
              [dataSource]="filteredTrOutList"
              [(selectedRowKeys)]="selectedTrOutNo"
              (onSelectionChanged)="onTroutSelected($event)"
              >
              <dxo-filter-row [visible]="true"></dxo-filter-row>
            </dx-data-grid>
          </div>
        </dx-drop-down-box>
      </div>
    </div>
  </div>


  <div>
    <dx-data-grid
            [showBorders]="true"
            class="data-grid"
            [selection]="{ mode: 'single' }"
            [hoverStateEnabled]="true"
            [paging]="{ enabled: true, pageSize: 10 }"
            [width]="'auto'"
            [height]="350"
            class="custom-data-grid"
            [columnAutoWidth]="true"
            [dataSource]="TransferOutDetailsDatagrid"
            (onCellPrepared)="highlightEditableColumns($event)"
            (onRowUpdated)="updateCell($event)"
          >
          <dxo-scrolling
        mode="virtual"
        columnRenderingMode="virtual"
      ></dxo-scrolling>

          <dxo-editing mode="cell" [allowUpdating]="true" 
    ></dxo-editing>
         
          <dxi-column caption="SL NO" dataField="SL_NO" [allowEditing]="false" alignment="center"></dxi-column> 
          <dxi-column dataField="BAR_CODE" caption="BAR CODE" 
           [allowEditing]="false"></dxi-column>
           <dxi-column dataField="ITEM_NAME" caption="DESCRIPTION" 
           [allowEditing]="false"></dxi-column>
       
          <dxi-column dataField="UOM" caption="UOM" 
          [allowEditing]="false"></dxi-column>
         
         <dxi-column dataField="COST" caption="UNIT COST" 
         [allowEditing]="false" alignment="right"></dxi-column>
       
        <dxi-column dataField="QUANTITY" caption="QTY ISSUED" 
         [allowEditing]="false" alignment="center"></dxi-column>

         <dxi-column dataField="RECEIVED_QTY" caption="RECEIVED QTY" 
         [allowEditing]="false" alignment="center"></dxi-column>
       
        <dxi-column dataField="QTY_TO_RECEIVE" caption="QTY TO RECEIVE" 
         [allowEditing]="false" alignment="center"></dxi-column>
      
        <dxi-column dataField="QTY" caption="QUANTITY" 
         [allowEditing]="true" alignment="center"></dxi-column>


         <dxo-summary>
          <dxi-total-item 
              column="BAR_CODE" 
              displayFormat="Total"
             ></dxi-total-item>

          <dxi-total-item 
          column="QTY_TO_RECEIVE" 
          summaryType="sum"
          displayFormat="{0}"
          >
         </dxi-total-item>  
         <dxi-total-item 
          column="QTY" 
          summaryType="sum"
          displayFormat="{0}"
          >
         </dxi-total-item>  
        </dxo-summary>
        </dx-data-grid>
        
          
  </div>
  <div style="flex: 1;">
    <div class="total-container">
  
      <div class="total-field">
        <label>Net Cost</label>
        <dx-text-box
          placeholder="0.00"
          [width]="150"
          [readOnly]="true"
          [(value)]="NET_COST"
          [rtlEnabled]="true"
        ></dx-text-box>
      </div>
    
      <!-- <div class="total-field">
        <label>Grand Total</label>
        <dx-text-box
          placeholder="0.00"
          [width]="150"
          [readOnly]="true"
          [rtlEnabled]="true"
        ></dx-text-box>
        
      </div> -->

    </div>
  </div>

  <div style="flex: 1;">
    <dx-text-area
      label="NARRATION"
      labelMode="floating"
      placeholder="Enter NARRATION"
      [(value)]="newTransferInData.NARRATION"
      [height]="80"
      [width]="400"
      [maxLength]="500"
    >
    </dx-text-area>
  </div>